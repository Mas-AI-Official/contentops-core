INFO:     Will watch for changes in these directories: ['D:\\Ideas\\content_factory\\backend']
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [35056] using StatReload
D:\Ideas\content_factory\backend\app\api\mcp.py:14: UserWarning: Field name "json" in "MCPForwardRequest" shadows an attribute in parent "BaseModel"
  class MCPForwardRequest(BaseModel):
INFO:     Started server process [36700]
INFO:     Waiting for application startup.
2026-01-24 17:35:48 | INFO     | app.main:lifespan:458 - Starting Content Factory...
2026-01-24 17:35:48 | INFO     | app.db.migrations:run_migrations:11 - Checking for pending database migrations...
2026-01-24 17:35:48,572 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-24 17:35:48,573 INFO sqlalchemy.engine.Engine PRAGMA table_info(niches)
2026-01-24 17:35:48,573 INFO sqlalchemy.engine.Engine [generated in 0.00017s] ()
2026-01-24 17:35:48,574 INFO sqlalchemy.engine.Engine PRAGMA table_info(accounts)
2026-01-24 17:35:48,574 INFO sqlalchemy.engine.Engine [generated in 0.00016s] ()
2026-01-24 17:35:48,574 INFO sqlalchemy.engine.Engine COMMIT
2026-01-24 17:35:48 | INFO     | app.db.migrations:run_migrations:59 - Database migrations completed
2026-01-24 17:35:48,575 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-24 17:35:48,575 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("niches")
2026-01-24 17:35:48,575 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-24 17:35:48,576 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("accounts")
2026-01-24 17:35:48,576 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-24 17:35:48,576 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("jobs")
2026-01-24 17:35:48,576 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-24 17:35:48,577 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("job_logs")
2026-01-24 17:35:48,577 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-24 17:35:48,577 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("videos")
2026-01-24 17:35:48,577 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-24 17:35:48,578 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("video_publishes")
2026-01-24 17:35:48,578 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-24 17:35:48,578 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("video_metrics")
2026-01-24 17:35:48,578 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-24 17:35:48,579 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("daily_niche_stats")
2026-01-24 17:35:48,579 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-24 17:35:48,579 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("video_scores")
2026-01-24 17:35:48,579 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-24 17:35:48,580 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("niche_targets")
2026-01-24 17:35:48,580 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-24 17:35:48,580 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("trend_candidates")
2026-01-24 17:35:48,580 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-24 17:35:48,580 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("pattern_analysis")
2026-01-24 17:35:48,580 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-24 17:35:48,580 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("promptpacks")
2026-01-24 17:35:48,580 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-24 17:35:48,580 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("artifacts")
2026-01-24 17:35:48,580 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-24 17:35:48,581 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("compliance_events")
2026-01-24 17:35:48,581 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-24 17:35:48,581 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("memory_index")
2026-01-24 17:35:48,581 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-24 17:35:48,581 INFO sqlalchemy.engine.Engine COMMIT
2026-01-24 17:35:48 | INFO     | app.db.migrations:run_migrations:11 - Checking for pending database migrations...
2026-01-24 17:35:48,582 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-24 17:35:48,582 INFO sqlalchemy.engine.Engine PRAGMA table_info(niches)
2026-01-24 17:35:48,582 INFO sqlalchemy.engine.Engine [cached since 0.009044s ago] ()
2026-01-24 17:35:48,582 INFO sqlalchemy.engine.Engine PRAGMA table_info(accounts)
2026-01-24 17:35:48,582 INFO sqlalchemy.engine.Engine [cached since 0.007873s ago] ()
2026-01-24 17:35:48,583 INFO sqlalchemy.engine.Engine COMMIT
2026-01-24 17:35:48 | INFO     | app.db.migrations:run_migrations:59 - Database migrations completed
2026-01-24 17:35:48 | INFO     | app.main:lifespan:465 - Database initialized
2026-01-24 17:35:48,583 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-24 17:35:48,609 INFO sqlalchemy.engine.Engine SELECT niches.name, niches.slug, niches.description, niches.target_audience, niches.content_type, niches.style, niches.post_to_youtube, niches.post_to_instagram, niches.post_to_tiktok, niches.posts_per_day, niches.auto_mode, niches.platform, niches.account_name, niches.account_id, niches.youtube_account_id, niches.instagram_account_id, niches.tiktok_account_id, niches.posting_schedule, niches.prompt_hook, niches.prompt_body, niches.prompt_cta, niches.hashtags, niches.min_duration_seconds, niches.max_duration_seconds, niches.llm_model, niches.llm_temperature, niches.tts_provider, niches.voice_id, niches.voice_name, niches.whisper_model, niches.whisper_device, niches.style_preset, niches.is_active, niches.id, niches.created_at, niches.updated_at 
FROM niches
2026-01-24 17:35:48,609 INFO sqlalchemy.engine.Engine [generated in 0.00036s] ()
2026-01-24 17:35:48 | INFO     | app.main:seed_default_niches:35 - Found 16 existing niches, skipping seed
2026-01-24 17:35:48,611 INFO sqlalchemy.engine.Engine COMMIT
2026-01-24 17:35:48 | INFO     | app.main:lifespan:469 - Default niches verified
2026-01-24 17:35:48 | INFO     | app.main:lifespan:485 - Directory structure verified
2026-01-24 17:35:48 | INFO     | app.services.niche_sync_service:sync_niches_to_db:58 - Starting niche sync from disk to database...
2026-01-24 17:35:48,643 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-24 17:35:48,646 INFO sqlalchemy.engine.Engine SELECT niches.name AS niches_name, niches.slug AS niches_slug, niches.description AS niches_description, niches.target_audience AS niches_target_audience, niches.content_type AS niches_content_type, niches.style AS niches_style, niches.post_to_youtube AS niches_post_to_youtube, niches.post_to_instagram AS niches_post_to_instagram, niches.post_to_tiktok AS niches_post_to_tiktok, niches.posts_per_day AS niches_posts_per_day, niches.auto_mode AS niches_auto_mode, niches.platform AS niches_platform, niches.account_name AS niches_account_name, niches.account_id AS niches_account_id, niches.youtube_account_id AS niches_youtube_account_id, niches.instagram_account_id AS niches_instagram_account_id, niches.tiktok_account_id AS niches_tiktok_account_id, niches.posting_schedule AS niches_posting_schedule, niches.prompt_hook AS niches_prompt_hook, niches.prompt_body AS niches_prompt_body, niches.prompt_cta AS niches_prompt_cta, niches.hashtags AS niches_hashtags, niches.min_duration_seconds AS niches_min_duration_seconds, niches.max_duration_seconds AS niches_max_duration_seconds, niches.llm_model AS niches_llm_model, niches.llm_temperature AS niches_llm_temperature, niches.tts_provider AS niches_tts_provider, niches.voice_id AS niches_voice_id, niches.voice_name AS niches_voice_name, niches.whisper_model AS niches_whisper_model, niches.whisper_device AS niches_whisper_device, niches.style_preset AS niches_style_preset, niches.is_active AS niches_is_active, niches.id AS niches_id, niches.created_at AS niches_created_at, niches.updated_at AS niches_updated_at 
FROM niches 
WHERE niches.slug = ?
 LIMIT ? OFFSET ?
2026-01-24 17:35:48,646 INFO sqlalchemy.engine.Engine [generated in 0.00029s] ('ai-that-saves-you-money-ca', 1, 0)
2026-01-24 17:35:48,648 INFO sqlalchemy.engine.Engine SELECT niches.name AS niches_name, niches.slug AS niches_slug, niches.description AS niches_description, niches.target_audience AS niches_target_audience, niches.content_type AS niches_content_type, niches.style AS niches_style, niches.post_to_youtube AS niches_post_to_youtube, niches.post_to_instagram AS niches_post_to_instagram, niches.post_to_tiktok AS niches_post_to_tiktok, niches.posts_per_day AS niches_posts_per_day, niches.auto_mode AS niches_auto_mode, niches.platform AS niches_platform, niches.account_name AS niches_account_name, niches.account_id AS niches_account_id, niches.youtube_account_id AS niches_youtube_account_id, niches.instagram_account_id AS niches_instagram_account_id, niches.tiktok_account_id AS niches_tiktok_account_id, niches.posting_schedule AS niches_posting_schedule, niches.prompt_hook AS niches_prompt_hook, niches.prompt_body AS niches_prompt_body, niches.prompt_cta AS niches_prompt_cta, niches.hashtags AS niches_hashtags, niches.min_duration_seconds AS niches_min_duration_seconds, niches.max_duration_seconds AS niches_max_duration_seconds, niches.llm_model AS niches_llm_model, niches.llm_temperature AS niches_llm_temperature, niches.tts_provider AS niches_tts_provider, niches.voice_id AS niches_voice_id, niches.voice_name AS niches_voice_name, niches.whisper_model AS niches_whisper_model, niches.whisper_device AS niches_whisper_device, niches.style_preset AS niches_style_preset, niches.is_active AS niches_is_active, niches.id AS niches_id, niches.created_at AS niches_created_at, niches.updated_at AS niches_updated_at 
FROM niches 
WHERE niches.slug = ?
 LIMIT ? OFFSET ?
2026-01-24 17:35:48,648 INFO sqlalchemy.engine.Engine [cached since 0.0022s ago] ('asmr-relaxation', 1, 0)
2026-01-24 17:35:48,651 INFO sqlalchemy.engine.Engine SELECT niches.name AS niches_name, niches.slug AS niches_slug, niches.description AS niches_description, niches.target_audience AS niches_target_audience, niches.content_type AS niches_content_type, niches.style AS niches_style, niches.post_to_youtube AS niches_post_to_youtube, niches.post_to_instagram AS niches_post_to_instagram, niches.post_to_tiktok AS niches_post_to_tiktok, niches.posts_per_day AS niches_posts_per_day, niches.auto_mode AS niches_auto_mode, niches.platform AS niches_platform, niches.account_name AS niches_account_name, niches.account_id AS niches_account_id, niches.youtube_account_id AS niches_youtube_account_id, niches.instagram_account_id AS niches_instagram_account_id, niches.tiktok_account_id AS niches_tiktok_account_id, niches.posting_schedule AS niches_posting_schedule, niches.prompt_hook AS niches_prompt_hook, niches.prompt_body AS niches_prompt_body, niches.prompt_cta AS niches_prompt_cta, niches.hashtags AS niches_hashtags, niches.min_duration_seconds AS niches_min_duration_seconds, niches.max_duration_seconds AS niches_max_duration_seconds, niches.llm_model AS niches_llm_model, niches.llm_temperature AS niches_llm_temperature, niches.tts_provider AS niches_tts_provider, niches.voice_id AS niches_voice_id, niches.voice_name AS niches_voice_name, niches.whisper_model AS niches_whisper_model, niches.whisper_device AS niches_whisper_device, niches.style_preset AS niches_style_preset, niches.is_active AS niches_is_active, niches.id AS niches_id, niches.created_at AS niches_created_at, niches.updated_at AS niches_updated_at 
FROM niches 
WHERE niches.slug = ?
 LIMIT ? OFFSET ?
2026-01-24 17:35:48,651 INFO sqlalchemy.engine.Engine [cached since 0.004612s ago] ('beauty-trends-now', 1, 0)
2026-01-24 17:35:48,652 INFO sqlalchemy.engine.Engine SELECT niches.name AS niches_name, niches.slug AS niches_slug, niches.description AS niches_description, niches.target_audience AS niches_target_audience, niches.content_type AS niches_content_type, niches.style AS niches_style, niches.post_to_youtube AS niches_post_to_youtube, niches.post_to_instagram AS niches_post_to_instagram, niches.post_to_tiktok AS niches_post_to_tiktok, niches.posts_per_day AS niches_posts_per_day, niches.auto_mode AS niches_auto_mode, niches.platform AS niches_platform, niches.account_name AS niches_account_name, niches.account_id AS niches_account_id, niches.youtube_account_id AS niches_youtube_account_id, niches.instagram_account_id AS niches_instagram_account_id, niches.tiktok_account_id AS niches_tiktok_account_id, niches.posting_schedule AS niches_posting_schedule, niches.prompt_hook AS niches_prompt_hook, niches.prompt_body AS niches_prompt_body, niches.prompt_cta AS niches_prompt_cta, niches.hashtags AS niches_hashtags, niches.min_duration_seconds AS niches_min_duration_seconds, niches.max_duration_seconds AS niches_max_duration_seconds, niches.llm_model AS niches_llm_model, niches.llm_temperature AS niches_llm_temperature, niches.tts_provider AS niches_tts_provider, niches.voice_id AS niches_voice_id, niches.voice_name AS niches_voice_name, niches.whisper_model AS niches_whisper_model, niches.whisper_device AS niches_whisper_device, niches.style_preset AS niches_style_preset, niches.is_active AS niches_is_active, niches.id AS niches_id, niches.created_at AS niches_created_at, niches.updated_at AS niches_updated_at 
FROM niches 
WHERE niches.slug = ?
 LIMIT ? OFFSET ?
2026-01-24 17:35:48,652 INFO sqlalchemy.engine.Engine [cached since 0.005374s ago] ('comedy-sketches', 1, 0)
2026-01-24 17:35:48,652 INFO sqlalchemy.engine.Engine SELECT niches.name AS niches_name, niches.slug AS niches_slug, niches.description AS niches_description, niches.target_audience AS niches_target_audience, niches.content_type AS niches_content_type, niches.style AS niches_style, niches.post_to_youtube AS niches_post_to_youtube, niches.post_to_instagram AS niches_post_to_instagram, niches.post_to_tiktok AS niches_post_to_tiktok, niches.posts_per_day AS niches_posts_per_day, niches.auto_mode AS niches_auto_mode, niches.platform AS niches_platform, niches.account_name AS niches_account_name, niches.account_id AS niches_account_id, niches.youtube_account_id AS niches_youtube_account_id, niches.instagram_account_id AS niches_instagram_account_id, niches.tiktok_account_id AS niches_tiktok_account_id, niches.posting_schedule AS niches_posting_schedule, niches.prompt_hook AS niches_prompt_hook, niches.prompt_body AS niches_prompt_body, niches.prompt_cta AS niches_prompt_cta, niches.hashtags AS niches_hashtags, niches.min_duration_seconds AS niches_min_duration_seconds, niches.max_duration_seconds AS niches_max_duration_seconds, niches.llm_model AS niches_llm_model, niches.llm_temperature AS niches_llm_temperature, niches.tts_provider AS niches_tts_provider, niches.voice_id AS niches_voice_id, niches.voice_name AS niches_voice_name, niches.whisper_model AS niches_whisper_model, niches.whisper_device AS niches_whisper_device, niches.style_preset AS niches_style_preset, niches.is_active AS niches_is_active, niches.id AS niches_id, niches.created_at AS niches_created_at, niches.updated_at AS niches_updated_at 
FROM niches 
WHERE niches.slug = ?
 LIMIT ? OFFSET ?
2026-01-24 17:35:48,652 INFO sqlalchemy.engine.Engine [cached since 0.006059s ago] ('cooking-hacks-pro', 1, 0)
2026-01-24 17:35:48,653 INFO sqlalchemy.engine.Engine SELECT niches.name AS niches_name, niches.slug AS niches_slug, niches.description AS niches_description, niches.target_audience AS niches_target_audience, niches.content_type AS niches_content_type, niches.style AS niches_style, niches.post_to_youtube AS niches_post_to_youtube, niches.post_to_instagram AS niches_post_to_instagram, niches.post_to_tiktok AS niches_post_to_tiktok, niches.posts_per_day AS niches_posts_per_day, niches.auto_mode AS niches_auto_mode, niches.platform AS niches_platform, niches.account_name AS niches_account_name, niches.account_id AS niches_account_id, niches.youtube_account_id AS niches_youtube_account_id, niches.instagram_account_id AS niches_instagram_account_id, niches.tiktok_account_id AS niches_tiktok_account_id, niches.posting_schedule AS niches_posting_schedule, niches.prompt_hook AS niches_prompt_hook, niches.prompt_body AS niches_prompt_body, niches.prompt_cta AS niches_prompt_cta, niches.hashtags AS niches_hashtags, niches.min_duration_seconds AS niches_min_duration_seconds, niches.max_duration_seconds AS niches_max_duration_seconds, niches.llm_model AS niches_llm_model, niches.llm_temperature AS niches_llm_temperature, niches.tts_provider AS niches_tts_provider, niches.voice_id AS niches_voice_id, niches.voice_name AS niches_voice_name, niches.whisper_model AS niches_whisper_model, niches.whisper_device AS niches_whisper_device, niches.style_preset AS niches_style_preset, niches.is_active AS niches_is_active, niches.id AS niches_id, niches.created_at AS niches_created_at, niches.updated_at AS niches_updated_at 
FROM niches 
WHERE niches.slug = ?
 LIMIT ? OFFSET ?
2026-01-24 17:35:48,653 INFO sqlalchemy.engine.Engine [cached since 0.006847s ago] ('dance-challenges', 1, 0)
2026-01-24 17:35:48,654 INFO sqlalchemy.engine.Engine SELECT niches.name AS niches_name, niches.slug AS niches_slug, niches.description AS niches_description, niches.target_audience AS niches_target_audience, niches.content_type AS niches_content_type, niches.style AS niches_style, niches.post_to_youtube AS niches_post_to_youtube, niches.post_to_instagram AS niches_post_to_instagram, niches.post_to_tiktok AS niches_post_to_tiktok, niches.posts_per_day AS niches_posts_per_day, niches.auto_mode AS niches_auto_mode, niches.platform AS niches_platform, niches.account_name AS niches_account_name, niches.account_id AS niches_account_id, niches.youtube_account_id AS niches_youtube_account_id, niches.instagram_account_id AS niches_instagram_account_id, niches.tiktok_account_id AS niches_tiktok_account_id, niches.posting_schedule AS niches_posting_schedule, niches.prompt_hook AS niches_prompt_hook, niches.prompt_body AS niches_prompt_body, niches.prompt_cta AS niches_prompt_cta, niches.hashtags AS niches_hashtags, niches.min_duration_seconds AS niches_min_duration_seconds, niches.max_duration_seconds AS niches_max_duration_seconds, niches.llm_model AS niches_llm_model, niches.llm_temperature AS niches_llm_temperature, niches.tts_provider AS niches_tts_provider, niches.voice_id AS niches_voice_id, niches.voice_name AS niches_voice_name, niches.whisper_model AS niches_whisper_model, niches.whisper_device AS niches_whisper_device, niches.style_preset AS niches_style_preset, niches.is_active AS niches_is_active, niches.id AS niches_id, niches.created_at AS niches_created_at, niches.updated_at AS niches_updated_at 
FROM niches 
WHERE niches.slug = ?
 LIMIT ? OFFSET ?
2026-01-24 17:35:48,654 INFO sqlalchemy.engine.Engine [cached since 0.00781s ago] ('fashion-finds-daily', 1, 0)
2026-01-24 17:35:48,654 INFO sqlalchemy.engine.Engine SELECT niches.name AS niches_name, niches.slug AS niches_slug, niches.description AS niches_description, niches.target_audience AS niches_target_audience, niches.content_type AS niches_content_type, niches.style AS niches_style, niches.post_to_youtube AS niches_post_to_youtube, niches.post_to_instagram AS niches_post_to_instagram, niches.post_to_tiktok AS niches_post_to_tiktok, niches.posts_per_day AS niches_posts_per_day, niches.auto_mode AS niches_auto_mode, niches.platform AS niches_platform, niches.account_name AS niches_account_name, niches.account_id AS niches_account_id, niches.youtube_account_id AS niches_youtube_account_id, niches.instagram_account_id AS niches_instagram_account_id, niches.tiktok_account_id AS niches_tiktok_account_id, niches.posting_schedule AS niches_posting_schedule, niches.prompt_hook AS niches_prompt_hook, niches.prompt_body AS niches_prompt_body, niches.prompt_cta AS niches_prompt_cta, niches.hashtags AS niches_hashtags, niches.min_duration_seconds AS niches_min_duration_seconds, niches.max_duration_seconds AS niches_max_duration_seconds, niches.llm_model AS niches_llm_model, niches.llm_temperature AS niches_llm_temperature, niches.tts_provider AS niches_tts_provider, niches.voice_id AS niches_voice_id, niches.voice_name AS niches_voice_name, niches.whisper_model AS niches_whisper_model, niches.whisper_device AS niches_whisper_device, niches.style_preset AS niches_style_preset, niches.is_active AS niches_is_active, niches.id AS niches_id, niches.created_at AS niches_created_at, niches.updated_at AS niches_updated_at 
FROM niches 
WHERE niches.slug = ?
 LIMIT ? OFFSET ?
2026-01-24 17:35:48,656 INFO sqlalchemy.engine.Engine [cached since 0.009031s ago] ('health-tips-daily', 1, 0)
2026-01-24 17:35:48,656 INFO sqlalchemy.engine.Engine SELECT niches.name AS niches_name, niches.slug AS niches_slug, niches.description AS niches_description, niches.target_audience AS niches_target_audience, niches.content_type AS niches_content_type, niches.style AS niches_style, niches.post_to_youtube AS niches_post_to_youtube, niches.post_to_instagram AS niches_post_to_instagram, niches.post_to_tiktok AS niches_post_to_tiktok, niches.posts_per_day AS niches_posts_per_day, niches.auto_mode AS niches_auto_mode, niches.platform AS niches_platform, niches.account_name AS niches_account_name, niches.account_id AS niches_account_id, niches.youtube_account_id AS niches_youtube_account_id, niches.instagram_account_id AS niches_instagram_account_id, niches.tiktok_account_id AS niches_tiktok_account_id, niches.posting_schedule AS niches_posting_schedule, niches.prompt_hook AS niches_prompt_hook, niches.prompt_body AS niches_prompt_body, niches.prompt_cta AS niches_prompt_cta, niches.hashtags AS niches_hashtags, niches.min_duration_seconds AS niches_min_duration_seconds, niches.max_duration_seconds AS niches_max_duration_seconds, niches.llm_model AS niches_llm_model, niches.llm_temperature AS niches_llm_temperature, niches.tts_provider AS niches_tts_provider, niches.voice_id AS niches_voice_id, niches.voice_name AS niches_voice_name, niches.whisper_model AS niches_whisper_model, niches.whisper_device AS niches_whisper_device, niches.style_preset AS niches_style_preset, niches.is_active AS niches_is_active, niches.id AS niches_id, niches.created_at AS niches_created_at, niches.updated_at AS niches_updated_at 
FROM niches 
WHERE niches.slug = ?
 LIMIT ? OFFSET ?
2026-01-24 17:35:48,656 INFO sqlalchemy.engine.Engine [cached since 0.01001s ago] ('home-decor-hacks', 1, 0)
2026-01-24 17:35:48,658 INFO sqlalchemy.engine.Engine SELECT niches.name AS niches_name, niches.slug AS niches_slug, niches.description AS niches_description, niches.target_audience AS niches_target_audience, niches.content_type AS niches_content_type, niches.style AS niches_style, niches.post_to_youtube AS niches_post_to_youtube, niches.post_to_instagram AS niches_post_to_instagram, niches.post_to_tiktok AS niches_post_to_tiktok, niches.posts_per_day AS niches_posts_per_day, niches.auto_mode AS niches_auto_mode, niches.platform AS niches_platform, niches.account_name AS niches_account_name, niches.account_id AS niches_account_id, niches.youtube_account_id AS niches_youtube_account_id, niches.instagram_account_id AS niches_instagram_account_id, niches.tiktok_account_id AS niches_tiktok_account_id, niches.posting_schedule AS niches_posting_schedule, niches.prompt_hook AS niches_prompt_hook, niches.prompt_body AS niches_prompt_body, niches.prompt_cta AS niches_prompt_cta, niches.hashtags AS niches_hashtags, niches.min_duration_seconds AS niches_min_duration_seconds, niches.max_duration_seconds AS niches_max_duration_seconds, niches.llm_model AS niches_llm_model, niches.llm_temperature AS niches_llm_temperature, niches.tts_provider AS niches_tts_provider, niches.voice_id AS niches_voice_id, niches.voice_name AS niches_voice_name, niches.whisper_model AS niches_whisper_model, niches.whisper_device AS niches_whisper_device, niches.style_preset AS niches_style_preset, niches.is_active AS niches_is_active, niches.id AS niches_id, niches.created_at AS niches_created_at, niches.updated_at AS niches_updated_at 
FROM niches 
WHERE niches.slug = ?
 LIMIT ? OFFSET ?
2026-01-24 17:35:48,658 INFO sqlalchemy.engine.Engine [cached since 0.01091s ago] ('life-hacks-daily', 1, 0)
2026-01-24 17:35:48,659 INFO sqlalchemy.engine.Engine SELECT niches.name AS niches_name, niches.slug AS niches_slug, niches.description AS niches_description, niches.target_audience AS niches_target_audience, niches.content_type AS niches_content_type, niches.style AS niches_style, niches.post_to_youtube AS niches_post_to_youtube, niches.post_to_instagram AS niches_post_to_instagram, niches.post_to_tiktok AS niches_post_to_tiktok, niches.posts_per_day AS niches_posts_per_day, niches.auto_mode AS niches_auto_mode, niches.platform AS niches_platform, niches.account_name AS niches_account_name, niches.account_id AS niches_account_id, niches.youtube_account_id AS niches_youtube_account_id, niches.instagram_account_id AS niches_instagram_account_id, niches.tiktok_account_id AS niches_tiktok_account_id, niches.posting_schedule AS niches_posting_schedule, niches.prompt_hook AS niches_prompt_hook, niches.prompt_body AS niches_prompt_body, niches.prompt_cta AS niches_prompt_cta, niches.hashtags AS niches_hashtags, niches.min_duration_seconds AS niches_min_duration_seconds, niches.max_duration_seconds AS niches_max_duration_seconds, niches.llm_model AS niches_llm_model, niches.llm_temperature AS niches_llm_temperature, niches.tts_provider AS niches_tts_provider, niches.voice_id AS niches_voice_id, niches.voice_name AS niches_voice_name, niches.whisper_model AS niches_whisper_model, niches.whisper_device AS niches_whisper_device, niches.style_preset AS niches_style_preset, niches.is_active AS niches_is_active, niches.id AS niches_id, niches.created_at AS niches_created_at, niches.updated_at AS niches_updated_at 
FROM niches 
WHERE niches.slug = ?
 LIMIT ? OFFSET ?
2026-01-24 17:35:48,659 INFO sqlalchemy.engine.Engine [cached since 0.01184s ago] ('life-systems-scripts', 1, 0)
2026-01-24 17:35:48,659 INFO sqlalchemy.engine.Engine SELECT niches.name AS niches_name, niches.slug AS niches_slug, niches.description AS niches_description, niches.target_audience AS niches_target_audience, niches.content_type AS niches_content_type, niches.style AS niches_style, niches.post_to_youtube AS niches_post_to_youtube, niches.post_to_instagram AS niches_post_to_instagram, niches.post_to_tiktok AS niches_post_to_tiktok, niches.posts_per_day AS niches_posts_per_day, niches.auto_mode AS niches_auto_mode, niches.platform AS niches_platform, niches.account_name AS niches_account_name, niches.account_id AS niches_account_id, niches.youtube_account_id AS niches_youtube_account_id, niches.instagram_account_id AS niches_instagram_account_id, niches.tiktok_account_id AS niches_tiktok_account_id, niches.posting_schedule AS niches_posting_schedule, niches.prompt_hook AS niches_prompt_hook, niches.prompt_body AS niches_prompt_body, niches.prompt_cta AS niches_prompt_cta, niches.hashtags AS niches_hashtags, niches.min_duration_seconds AS niches_min_duration_seconds, niches.max_duration_seconds AS niches_max_duration_seconds, niches.llm_model AS niches_llm_model, niches.llm_temperature AS niches_llm_temperature, niches.tts_provider AS niches_tts_provider, niches.voice_id AS niches_voice_id, niches.voice_name AS niches_voice_name, niches.whisper_model AS niches_whisper_model, niches.whisper_device AS niches_whisper_device, niches.style_preset AS niches_style_preset, niches.is_active AS niches_is_active, niches.id AS niches_id, niches.created_at AS niches_created_at, niches.updated_at AS niches_updated_at 
FROM niches 
WHERE niches.slug = ?
 LIMIT ? OFFSET ?
2026-01-24 17:35:48,659 INFO sqlalchemy.engine.Engine [cached since 0.01262s ago] ('magic-tricks', 1, 0)
2026-01-24 17:35:48,659 INFO sqlalchemy.engine.Engine SELECT niches.name AS niches_name, niches.slug AS niches_slug, niches.description AS niches_description, niches.target_audience AS niches_target_audience, niches.content_type AS niches_content_type, niches.style AS niches_style, niches.post_to_youtube AS niches_post_to_youtube, niches.post_to_instagram AS niches_post_to_instagram, niches.post_to_tiktok AS niches_post_to_tiktok, niches.posts_per_day AS niches_posts_per_day, niches.auto_mode AS niches_auto_mode, niches.platform AS niches_platform, niches.account_name AS niches_account_name, niches.account_id AS niches_account_id, niches.youtube_account_id AS niches_youtube_account_id, niches.instagram_account_id AS niches_instagram_account_id, niches.tiktok_account_id AS niches_tiktok_account_id, niches.posting_schedule AS niches_posting_schedule, niches.prompt_hook AS niches_prompt_hook, niches.prompt_body AS niches_prompt_body, niches.prompt_cta AS niches_prompt_cta, niches.hashtags AS niches_hashtags, niches.min_duration_seconds AS niches_min_duration_seconds, niches.max_duration_seconds AS niches_max_duration_seconds, niches.llm_model AS niches_llm_model, niches.llm_temperature AS niches_llm_temperature, niches.tts_provider AS niches_tts_provider, niches.voice_id AS niches_voice_id, niches.voice_name AS niches_voice_name, niches.whisper_model AS niches_whisper_model, niches.whisper_device AS niches_whisper_device, niches.style_preset AS niches_style_preset, niches.is_active AS niches_is_active, niches.id AS niches_id, niches.created_at AS niches_created_at, niches.updated_at AS niches_updated_at 
FROM niches 
WHERE niches.slug = ?
 LIMIT ? OFFSET ?
2026-01-24 17:35:48,659 INFO sqlalchemy.engine.Engine [cached since 0.01329s ago] ('micro-money-moves-ca', 1, 0)
2026-01-24 17:35:48,661 INFO sqlalchemy.engine.Engine SELECT niches.name AS niches_name, niches.slug AS niches_slug, niches.description AS niches_description, niches.target_audience AS niches_target_audience, niches.content_type AS niches_content_type, niches.style AS niches_style, niches.post_to_youtube AS niches_post_to_youtube, niches.post_to_instagram AS niches_post_to_instagram, niches.post_to_tiktok AS niches_post_to_tiktok, niches.posts_per_day AS niches_posts_per_day, niches.auto_mode AS niches_auto_mode, niches.platform AS niches_platform, niches.account_name AS niches_account_name, niches.account_id AS niches_account_id, niches.youtube_account_id AS niches_youtube_account_id, niches.instagram_account_id AS niches_instagram_account_id, niches.tiktok_account_id AS niches_tiktok_account_id, niches.posting_schedule AS niches_posting_schedule, niches.prompt_hook AS niches_prompt_hook, niches.prompt_body AS niches_prompt_body, niches.prompt_cta AS niches_prompt_cta, niches.hashtags AS niches_hashtags, niches.min_duration_seconds AS niches_min_duration_seconds, niches.max_duration_seconds AS niches_max_duration_seconds, niches.llm_model AS niches_llm_model, niches.llm_temperature AS niches_llm_temperature, niches.tts_provider AS niches_tts_provider, niches.voice_id AS niches_voice_id, niches.voice_name AS niches_voice_name, niches.whisper_model AS niches_whisper_model, niches.whisper_device AS niches_whisper_device, niches.style_preset AS niches_style_preset, niches.is_active AS niches_is_active, niches.id AS niches_id, niches.created_at AS niches_created_at, niches.updated_at AS niches_updated_at 
FROM niches 
WHERE niches.slug = ?
 LIMIT ? OFFSET ?
2026-01-24 17:35:48,661 INFO sqlalchemy.engine.Engine [cached since 0.01392s ago] ('pet-care-tips', 1, 0)
2026-01-24 17:35:48,661 INFO sqlalchemy.engine.Engine SELECT niches.name AS niches_name, niches.slug AS niches_slug, niches.description AS niches_description, niches.target_audience AS niches_target_audience, niches.content_type AS niches_content_type, niches.style AS niches_style, niches.post_to_youtube AS niches_post_to_youtube, niches.post_to_instagram AS niches_post_to_instagram, niches.post_to_tiktok AS niches_post_to_tiktok, niches.posts_per_day AS niches_posts_per_day, niches.auto_mode AS niches_auto_mode, niches.platform AS niches_platform, niches.account_name AS niches_account_name, niches.account_id AS niches_account_id, niches.youtube_account_id AS niches_youtube_account_id, niches.instagram_account_id AS niches_instagram_account_id, niches.tiktok_account_id AS niches_tiktok_account_id, niches.posting_schedule AS niches_posting_schedule, niches.prompt_hook AS niches_prompt_hook, niches.prompt_body AS niches_prompt_body, niches.prompt_cta AS niches_prompt_cta, niches.hashtags AS niches_hashtags, niches.min_duration_seconds AS niches_min_duration_seconds, niches.max_duration_seconds AS niches_max_duration_seconds, niches.llm_model AS niches_llm_model, niches.llm_temperature AS niches_llm_temperature, niches.tts_provider AS niches_tts_provider, niches.voice_id AS niches_voice_id, niches.voice_name AS niches_voice_name, niches.whisper_model AS niches_whisper_model, niches.whisper_device AS niches_whisper_device, niches.style_preset AS niches_style_preset, niches.is_active AS niches_is_active, niches.id AS niches_id, niches.created_at AS niches_created_at, niches.updated_at AS niches_updated_at 
FROM niches 
WHERE niches.slug = ?
 LIMIT ? OFFSET ?
2026-01-24 17:35:48,661 INFO sqlalchemy.engine.Engine [cached since 0.01457s ago] ('quick-recipes', 1, 0)
2026-01-24 17:35:48,661 INFO sqlalchemy.engine.Engine SELECT niches.name AS niches_name, niches.slug AS niches_slug, niches.description AS niches_description, niches.target_audience AS niches_target_audience, niches.content_type AS niches_content_type, niches.style AS niches_style, niches.post_to_youtube AS niches_post_to_youtube, niches.post_to_instagram AS niches_post_to_instagram, niches.post_to_tiktok AS niches_post_to_tiktok, niches.posts_per_day AS niches_posts_per_day, niches.auto_mode AS niches_auto_mode, niches.platform AS niches_platform, niches.account_name AS niches_account_name, niches.account_id AS niches_account_id, niches.youtube_account_id AS niches_youtube_account_id, niches.instagram_account_id AS niches_instagram_account_id, niches.tiktok_account_id AS niches_tiktok_account_id, niches.posting_schedule AS niches_posting_schedule, niches.prompt_hook AS niches_prompt_hook, niches.prompt_body AS niches_prompt_body, niches.prompt_cta AS niches_prompt_cta, niches.hashtags AS niches_hashtags, niches.min_duration_seconds AS niches_min_duration_seconds, niches.max_duration_seconds AS niches_max_duration_seconds, niches.llm_model AS niches_llm_model, niches.llm_temperature AS niches_llm_temperature, niches.tts_provider AS niches_tts_provider, niches.voice_id AS niches_voice_id, niches.voice_name AS niches_voice_name, niches.whisper_model AS niches_whisper_model, niches.whisper_device AS niches_whisper_device, niches.style_preset AS niches_style_preset, niches.is_active AS niches_is_active, niches.id AS niches_id, niches.created_at AS niches_created_at, niches.updated_at AS niches_updated_at 
FROM niches 
WHERE niches.slug = ?
 LIMIT ? OFFSET ?
2026-01-24 17:35:48,661 INFO sqlalchemy.engine.Engine [cached since 0.0152s ago] ('tech-news-you-can-use', 1, 0)
2026-01-24 17:35:48 | INFO     | app.services.niche_sync_service:sync_niches_to_db:135 - Niche sync complete: 0 new, 0 updated
2026-01-24 17:35:48,663 INFO sqlalchemy.engine.Engine COMMIT
2026-01-24 17:35:48,663 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-24 17:35:48,663 INFO sqlalchemy.engine.Engine SELECT niches.name, niches.slug, niches.description, niches.target_audience, niches.content_type, niches.style, niches.post_to_youtube, niches.post_to_instagram, niches.post_to_tiktok, niches.posts_per_day, niches.auto_mode, niches.platform, niches.account_name, niches.account_id, niches.youtube_account_id, niches.instagram_account_id, niches.tiktok_account_id, niches.posting_schedule, niches.prompt_hook, niches.prompt_body, niches.prompt_cta, niches.hashtags, niches.min_duration_seconds, niches.max_duration_seconds, niches.llm_model, niches.llm_temperature, niches.tts_provider, niches.voice_id, niches.voice_name, niches.whisper_model, niches.whisper_device, niches.style_preset, niches.is_active, niches.id, niches.created_at, niches.updated_at 
FROM niches
2026-01-24 17:35:48,663 INFO sqlalchemy.engine.Engine [cached since 0.0543s ago] ()
2026-01-24 17:35:48,683 INFO sqlalchemy.engine.Engine COMMIT
2026-01-24 17:35:48 | INFO     | app.workers.job_worker:start:54 - Job worker started
2026-01-24 17:35:48 | INFO     | app.main:lifespan:500 - Job worker started
2026-01-24 17:35:48 | INFO     | app.services.scheduler_service:initialize:59 - Content scheduler initialized
2026-01-24 17:35:48 | INFO     | app.services.scheduler_service:start:69 - Content scheduler started
2026-01-24 17:35:48,685 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-24 17:35:48,687 INFO sqlalchemy.engine.Engine SELECT niches.name AS niches_name, niches.slug AS niches_slug, niches.description AS niches_description, niches.target_audience AS niches_target_audience, niches.content_type AS niches_content_type, niches.style AS niches_style, niches.post_to_youtube AS niches_post_to_youtube, niches.post_to_instagram AS niches_post_to_instagram, niches.post_to_tiktok AS niches_post_to_tiktok, niches.posts_per_day AS niches_posts_per_day, niches.auto_mode AS niches_auto_mode, niches.platform AS niches_platform, niches.account_name AS niches_account_name, niches.account_id AS niches_account_id, niches.youtube_account_id AS niches_youtube_account_id, niches.instagram_account_id AS niches_instagram_account_id, niches.tiktok_account_id AS niches_tiktok_account_id, niches.posting_schedule AS niches_posting_schedule, niches.prompt_hook AS niches_prompt_hook, niches.prompt_body AS niches_prompt_body, niches.prompt_cta AS niches_prompt_cta, niches.hashtags AS niches_hashtags, niches.min_duration_seconds AS niches_min_duration_seconds, niches.max_duration_seconds AS niches_max_duration_seconds, niches.llm_model AS niches_llm_model, niches.llm_temperature AS niches_llm_temperature, niches.tts_provider AS niches_tts_provider, niches.voice_id AS niches_voice_id, niches.voice_name AS niches_voice_name, niches.whisper_model AS niches_whisper_model, niches.whisper_device AS niches_whisper_device, niches.style_preset AS niches_style_preset, niches.is_active AS niches_is_active, niches.id AS niches_id, niches.created_at AS niches_created_at, niches.updated_at AS niches_updated_at 
FROM niches 
WHERE niches.auto_mode = 1
2026-01-24 17:35:48,687 INFO sqlalchemy.engine.Engine [generated in 0.00024s] ()
2026-01-24 17:35:48,687 INFO sqlalchemy.engine.Engine COMMIT
2026-01-24 17:35:48 | INFO     | app.services.scheduler_service:_schedule_daily_generation:134 - Scheduled content generation for 0 niches (0 total jobs)
2026-01-24 17:35:48 | INFO     | app.services.scheduler_service:start:82 - Scheduled RSS scraping every 3 hours
2026-01-24 17:35:48 | INFO     | app.main:lifespan:506 - Content scheduler started
2026-01-24 17:35:48 | INFO     | app.main:lifespan:511 - Content Factory ready at http://127.0.0.1:8000
INFO:     Application startup complete.
2026-01-24 17:36:48,694 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-24 17:36:48,697 INFO sqlalchemy.engine.Engine SELECT jobs.niche_id, jobs.job_type, jobs.topic, jobs.topic_source, jobs.video_model, jobs.script_hook, jobs.script_body, jobs.script_cta, jobs.full_script, jobs.audio_path, jobs.subtitle_path, jobs.video_path, jobs.thumbnail_path, jobs.status, jobs.progress_percent, jobs.error_message, jobs.scheduled_at, jobs.publish_youtube, jobs.publish_instagram, jobs.publish_tiktok, jobs.publish_results, jobs.duration_seconds, jobs.file_size_bytes, jobs.id, jobs.created_at, jobs.updated_at, jobs.started_at, jobs.completed_at 
FROM jobs 
WHERE jobs.status = ? AND jobs.scheduled_at IS NULL ORDER BY jobs.created_at
 LIMIT ? OFFSET ?
2026-01-24 17:36:48,697 INFO sqlalchemy.engine.Engine [generated in 0.00020s] ('PENDING', 2, 0)
2026-01-24 17:36:48,697 INFO sqlalchemy.engine.Engine COMMIT
2026-01-24 17:36:48,698 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-24 17:36:48,698 INFO sqlalchemy.engine.Engine SELECT jobs.niche_id, jobs.job_type, jobs.topic, jobs.topic_source, jobs.video_model, jobs.script_hook, jobs.script_body, jobs.script_cta, jobs.full_script, jobs.audio_path, jobs.subtitle_path, jobs.video_path, jobs.thumbnail_path, jobs.status, jobs.progress_percent, jobs.error_message, jobs.scheduled_at, jobs.publish_youtube, jobs.publish_instagram, jobs.publish_tiktok, jobs.publish_results, jobs.duration_seconds, jobs.file_size_bytes, jobs.id, jobs.created_at, jobs.updated_at, jobs.started_at, jobs.completed_at 
FROM jobs 
WHERE jobs.status = ? AND jobs.scheduled_at IS NOT NULL AND jobs.scheduled_at <= ? ORDER BY jobs.scheduled_at
2026-01-24 17:36:48,698 INFO sqlalchemy.engine.Engine [generated in 0.00015s] ('PENDING', '2026-01-24 22:36:48.697752')
2026-01-24 17:36:48,699 INFO sqlalchemy.engine.Engine COMMIT
2026-01-24 17:37:48,698 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-24 17:37:48,698 INFO sqlalchemy.engine.Engine SELECT jobs.niche_id, jobs.job_type, jobs.topic, jobs.topic_source, jobs.video_model, jobs.script_hook, jobs.script_body, jobs.script_cta, jobs.full_script, jobs.audio_path, jobs.subtitle_path, jobs.video_path, jobs.thumbnail_path, jobs.status, jobs.progress_percent, jobs.error_message, jobs.scheduled_at, jobs.publish_youtube, jobs.publish_instagram, jobs.publish_tiktok, jobs.publish_results, jobs.duration_seconds, jobs.file_size_bytes, jobs.id, jobs.created_at, jobs.updated_at, jobs.started_at, jobs.completed_at 
FROM jobs 
WHERE jobs.status = ? AND jobs.scheduled_at IS NULL ORDER BY jobs.created_at
 LIMIT ? OFFSET ?
2026-01-24 17:37:48,698 INFO sqlalchemy.engine.Engine [cached since 60s ago] ('PENDING', 2, 0)
2026-01-24 17:37:48,699 INFO sqlalchemy.engine.Engine COMMIT
2026-01-24 17:37:48,699 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-24 17:37:48,700 INFO sqlalchemy.engine.Engine SELECT jobs.niche_id, jobs.job_type, jobs.topic, jobs.topic_source, jobs.video_model, jobs.script_hook, jobs.script_body, jobs.script_cta, jobs.full_script, jobs.audio_path, jobs.subtitle_path, jobs.video_path, jobs.thumbnail_path, jobs.status, jobs.progress_percent, jobs.error_message, jobs.scheduled_at, jobs.publish_youtube, jobs.publish_instagram, jobs.publish_tiktok, jobs.publish_results, jobs.duration_seconds, jobs.file_size_bytes, jobs.id, jobs.created_at, jobs.updated_at, jobs.started_at, jobs.completed_at 
FROM jobs 
WHERE jobs.status = ? AND jobs.scheduled_at IS NOT NULL AND jobs.scheduled_at <= ? ORDER BY jobs.scheduled_at
2026-01-24 17:37:48,700 INFO sqlalchemy.engine.Engine [cached since 60s ago] ('PENDING', '2026-01-24 22:37:48.699911')
2026-01-24 17:37:48,700 INFO sqlalchemy.engine.Engine COMMIT
